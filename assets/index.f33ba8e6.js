var y=Object.defineProperty,N=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var u=(e,r,t)=>r in e?y(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,l=(e,r)=>{for(var t in r||(r={}))D.call(r,t)&&u(e,t,r[t]);if(p)for(var t of p(r))L.call(r,t)&&u(e,t,r[t]);return e},d=(e,r)=>N(e,b(r));var h=(e,r,t)=>(u(e,typeof r!="symbol"?r+"":r,t),t);import{j as o,a as i,c as m,r as f,F as T,L as g,R as E,b as _,d as C,e as M,P,B as k}from"./vendor.eeaa4620.js";const z=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}};z();const x=({menuItem:e,onAddToCart:r})=>{const{title:t,price:n,url:s,category:a,id:c}=e;return o("li",{className:"menu__item",children:[i("div",{className:"menu__title",children:t}),i("img",{className:"menu__img",src:s,alt:t}),o("div",{className:"menu__category "+a,children:["Category: ",i("span",{children:a})]}),o("div",{className:"menu__price",children:["Price: ",o("span",{children:[n,"$"]})]}),i("button",{onClick:()=>r(c),className:"menu__btn",children:"Add to cart"})]})},w=e=>({type:"MENU_LOADED",payload:e}),A=e=>({type:"ITEM_DEL",payload:e}),I=e=>({type:"ITEM_ADD",payload:e}),j=()=>i("div",{className:"spinner",children:"loading..."}),S=[{title:"Cesar salad",price:12,url:"https://static.1000.menu/img/content/21458/-salat-cezar-s-kr-salat-cezar-s-krevetkami-s-maionezom_1501173720_1_max.jpg",category:"salads",id:1},{title:"Pizza Margherita",price:10,url:"https://i.pinimg.com/originals/f5/9b/7a/f59b7a3f1735638b6fb8d3b4e02197fd.jpg",category:"pizza",id:2},{title:"Pizza Napoletana",price:13,url:"https://www.pizzanapoletana.org/struttura/pagine_bicolor/mobile/decalogo_avpn_1.jpg",category:"pizza",id:3},{title:"Greece salad",price:8,url:"https://assets.epicurious.com/photos/576454fb42e4a5ed66d1df6b/master/pass/greek-salad.jpg",category:"salads",id:4},{title:"Cowboy Steak",price:25,url:"https://i.cbc.ca/1.4491288.1516208229!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/cowboysteak.jpg",category:"meat",id:5}];class $ extends f.exports.Component{componentDidMount(){this.props.menuLoaded(S)}render(){const{menuItems:r,loading:t,addToCart:n}=this.props;return i("ul",{className:"menu__list",children:t?i(j,{}):r.map(s=>i(x,{menuItem:s,onAddToCart:()=>n(s.id)},s.id))})}}const O=e=>({menuItems:e.menu,loading:e.loading}),B={menuLoaded:w,addToCart:I};var R=m(O,B)($);const F=()=>i(R,{});const H=({items:e,onDelete:r})=>o(T,{children:[i("div",{className:"cart__title",children:"\u0412\u0430\u0448 \u0437\u0430\u043A\u0430\u0437:"}),i("div",{className:"cart__list",children:e.map(t=>{const{title:n,price:s,url:a,id:c,count:v}=t;return o("div",{className:"cart__item",children:[i("img",{src:a,className:"cart__item-img",alt:n}),o("div",{className:"cart__item-wrap",children:[o("div",{className:"cart__item-title",children:[n," x",v]}),o("div",{className:"cart__item-price",children:[s,"$"]})]}),i("div",{onClick:()=>r(c),className:"cart__close",children:"\xD7"})]},c)})})]}),U=e=>({items:e.items}),q=e=>({onDelete:r=>e(A(r))});var G=m(U,q)(H);const K=()=>i("div",{className:"cart",children:i(G,{})});var J="./assets/shopping-cart-solid.3a309200.svg";const Q=({total:e})=>o("header",{className:"header",children:[i(g,{className:"header__link",to:"/",children:"Menu"}),o(g,{className:"header__link",to:"cart",children:[i("img",{className:"header__cart",src:J,alt:"cart"}),"Total: ",e," $"]})]});var V="./assets/food-bg.325cfe78.jpg";const W=({cri:e,items:r})=>{let t=0;return r&&r.forEach(n=>{t=t+n.price*n.count}),o("div",{style:{width:"100%",background:`url(${V}) center center/cover no-repeat`},className:"app",children:[i(Q,{total:t}),o(E,{children:[i(_,{path:"/",element:i(F,{})}),i(_,{path:"cart",element:i(K,{})})]})]})},X=e=>({items:e.items});var Y=m(X)(W);const Z=()=>i("div",{className:"error",children:"Error"});class ee extends f.exports.Component{constructor(){super(...arguments);h(this,"state",{error:!1})}componentDidCatch(){this.setState({error:!0})}render(){return this.state.error?i(Z,{}):this.props.children}}const re={menu:[],loading:!0,items:[]},te=(e=re,r)=>{switch(r.type){case"MENU_LOADED":return d(l({},e),{menu:r.payload,loading:!1});case"ITEM_DEL":return d(l({},e),{items:e.items.filter(a=>a.id!=r.payload)});case"ITEM_ADD":const t=r.payload,n=e.menu.find(a=>a.id==t);let s=[];return e.items.find(a=>a.id==n.id)?s=[...e.items.filter(a=>a.id!=n.id),d(l({},e.items.find(a=>a.id==n.id)),{count:e.items.find(a=>a.id==n.id).count+1})]:s=[...e.items,d(l({},n),{count:1})],d(l({},e),{items:s});default:return e}},ae=C(te);M.render(i(P,{store:ae,children:i(ee,{children:i(k,{basename:"redux_shop",children:i(Y,{})})})}),document.getElementById("root"));
