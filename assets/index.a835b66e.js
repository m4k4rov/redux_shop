var y=Object.defineProperty,N=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var u=(e,r,t)=>r in e?y(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,l=(e,r)=>{for(var t in r||(r={}))L.call(r,t)&&u(e,t,r[t]);if(p)for(var t of p(r))D.call(r,t)&&u(e,t,r[t]);return e},d=(e,r)=>N(e,b(r));var h=(e,r,t)=>(u(e,typeof r!="symbol"?r+"":r,t),t);import{j as c,a as s,c as m,r as f,F as k,L as g,R as C,b as _,d as E,e as T,P as M,B as P}from"./vendor.eeaa4620.js";const z=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}};z();const x=({menuItem:e,onAddToCart:r})=>{const{title:t,price:n,url:a,category:i,id:o}=e;return c("li",{className:"menu__item",children:[s("div",{className:"menu__title",children:t}),s("img",{className:"menu__img",src:a,alt:t}),c("div",{className:"menu__category "+i,children:["Category: ",s("span",{children:i})]}),c("div",{className:"menu__price",children:["Price: ",c("span",{children:[n,"$"]})]}),s("button",{onClick:()=>r(o),className:"menu__btn",children:"Add to cart"})]})},A=e=>({type:"MENU_LOADED",payload:e}),w=e=>({type:"ITEM_DEL",payload:e}),I=e=>({type:"ITEM_ADD",payload:e}),S=()=>s("div",{className:"spinner",children:"loading..."}),j=[{title:"Cesar salad",price:12,url:"https://static.1000.menu/img/content/21458/-salat-cezar-s-kr-salat-cezar-s-krevetkami-s-maionezom_1501173720_1_max.jpg",category:"salads",id:1},{title:"Pizza Margherita",price:10,url:"https://i.pinimg.com/originals/f5/9b/7a/f59b7a3f1735638b6fb8d3b4e02197fd.jpg",category:"pizza",id:2},{title:"Pizza Napoletana",price:13,url:"https://www.pizzanapoletana.org/struttura/pagine_bicolor/mobile/decalogo_avpn_1.jpg",category:"pizza",id:3},{title:"Greece salad",price:8,url:"https://assets.epicurious.com/photos/576454fb42e4a5ed66d1df6b/master/pass/greek-salad.jpg",category:"salads",id:4},{title:"Cowboy Steak",price:25,url:"https://i.cbc.ca/1.4491288.1516208229!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/cowboysteak.jpg",category:"meat",id:5}];class $ extends f.exports.Component{componentDidMount(){this.props.menuLoaded(j)}render(){const{menuItems:r,loading:t,addToCart:n}=this.props;return s("ul",{className:"menu__list",children:t?s(S,{}):r.map(a=>s(x,{menuItem:a,onAddToCart:()=>n(a.id)},a.id))})}}const O=e=>({menuItems:e.menu,loading:e.loading}),B={menuLoaded:A,addToCart:I};var R=m(O,B)($);const F=()=>s(R,{});const q=({items:e,onDelete:r})=>c(k,{children:[s("div",{className:"cart__title",children:"\u0412\u0430\u0448 \u0437\u0430\u043A\u0430\u0437:"}),s("div",{className:"cart__list",children:e.map(t=>{const{title:n,price:a,url:i,id:o,count:v}=t;return c("div",{className:"cart__item",children:[s("img",{src:i,className:"cart__item-img",alt:n}),c("div",{className:"cart__item-wrap",children:[c("div",{className:"cart__item-title",children:[n," x",v]}),c("div",{className:"cart__item-price",children:[a,"$"]})]}),s("div",{onClick:()=>r(o),className:"cart__close",children:"\xD7"})]},o)})})]}),H=e=>({items:e.items}),U=e=>({onDelete:r=>e(w(r))});var G=m(H,U)(q);const K=()=>s("div",{className:"cart",children:s(G,{})});var J="./assets/shopping-cart-solid.3a309200.svg";const Q=({total:e})=>{const r=t=>{document.querySelectorAll(".header__link").forEach(a=>{a.classList.remove("active")}),t.target.classList.add("active")};return c("header",{className:"header",children:[s(g,{onClick:t=>r(t),className:"header__link active",to:"/",children:"Menu"}),c(g,{onClick:t=>r(t),className:"header__link",to:"cart",children:[s("img",{className:"header__cart",src:J,alt:"cart"}),"Total: ",e," $"]})]})};var V="./assets/food-bg.325cfe78.jpg";const W=({cri:e,items:r})=>{let t=0;return r&&r.forEach(n=>{t=t+n.price*n.count}),c("div",{style:{width:"100%",background:`url(${V}) center center/cover no-repeat`},className:"app",children:[s(Q,{total:t}),c(C,{children:[s(_,{path:"/",element:s(F,{})}),s(_,{path:"cart",element:s(K,{})})]})]})},X=e=>({items:e.items});var Y=m(X)(W);const Z=()=>s("div",{className:"error",children:"Error"});class ee extends f.exports.Component{constructor(){super(...arguments);h(this,"state",{error:!1})}componentDidCatch(){this.setState({error:!0})}render(){return this.state.error?s(Z,{}):this.props.children}}const re={menu:[],loading:!0,items:[]},te=(e=re,r)=>{switch(r.type){case"MENU_LOADED":return d(l({},e),{menu:r.payload,loading:!1});case"ITEM_DEL":return d(l({},e),{items:e.items.filter(i=>i.id!=r.payload)});case"ITEM_ADD":const t=r.payload,n=e.menu.find(i=>i.id==t);let a=[];return e.items.find(i=>i.id==n.id)?a=[...e.items.filter(i=>i.id!=n.id),d(l({},e.items.find(i=>i.id==n.id)),{count:e.items.find(i=>i.id==n.id).count+1})]:a=[...e.items,d(l({},n),{count:1})],d(l({},e),{items:a});default:return e}},ae=E(te);T.render(s(M,{store:ae,children:s(ee,{children:s(P,{basename:"redux_shop",children:s(Y,{})})})}),document.getElementById("root"));
